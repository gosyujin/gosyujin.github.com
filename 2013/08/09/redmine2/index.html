<!DOCTYPE html>
<html>
  <head>
    
      
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-34929069-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>

    

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>
      
  WindowsにRedmine2.3をインストールする手順と、プラグイン作成用メモ - kk_Atakaの日記

    </title>

    

    
      <meta name="description" property="og:description" content="あらすじ Redmine 2.0台におけるインストール方法〜起動方法とプラグインの作り方のメモ。
環境  Windows 7 32bit Ruby 1.9.3  Bundler 1.3.5 導入済 DevKit 導入済  Redmine 2.3.1 MySql 5.6.12.1  参考サイト  Redmineのインストール — Redmine Guide 日本語訳 Hooks - Redmine Hooks List - Redmine プラグイン ホック - r-labs ビュー(view) - Railsドキュメント  Redmineインストール手順 まずは準備。
MySQL 実はMySQLさわるのはじめてかもしれない。
 MySQL :: Download MySQL Installer からインストーラをDL。Oracleのアカウントが必要 基本的にPathなどの設定はそのまま。  Choosing a Setup Type: Developer Default を選択 MySQL Server Configuration: Server Configuration Type は Development Machine ポートは 3306 root のパスワードを入力 Windows Service Details の Start the MySQL Server at System Startup のチェックだけ KILL そんなに使わないしPCがしょぼいので常時起動させておくこともない   全部終わると MySQL Workbench が立ち上がる。|">
    

    <meta name="apple-mobile-web-app-title" content="kk_Atakaの日記">

    <link rel="stylesheet" href="/css/primer-syntax.css">
    <link rel="stylesheet" href="/css/primer-build.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/syntax.css">
  </head>

  <body class="bg-gray">
    <div id="holy" class="container-lg bg-white h-100">

      <div id="header" class="px-1 bg-white">
        <nav class="UnderlineNav UnderlineNav--right px-2">
  <a class="UnderlineNav-actions muted-link h2" href="https://gosyujin.github.io">
    kk_Atakaの日記
  </a>

  
    

    <div class="UnderlineNav-body">
      
        
          <a class="UnderlineNav-item
            "

          href="/about/">
            
            <span>About</span>
          </a>
        
      
        
          <a class="UnderlineNav-item
            "

          href="/">
            
            <span>Archives</span>
          </a>
        
      
        
          <a class="UnderlineNav-item
            "

          href="/tags/">
            
            <span>Tags</span>
          </a>
        
      
    </div>
  
</nav>

      </div>

      <div role="main" id="main" class="holy-main markdown-body px-4 bg-white">
        

  

    
    <nav class="paginate-container">
  <div class="pagination">
      
        <a href="https://gosyujin.github.io/2013/08/07/jekyll-maintenance-1/" class="pagination_overflow previous_page">
          Prev: 
          13/8/7
          Jekyllバー …
        </a>
      

      <a href="https://gosyujin.github.io" class="pagination_center">
        Archives
      </a>
      </span>

      
        <a href="https://gosyujin.github.io/2013/08/20/rails3-log-not-colorize/" class="pagination_overflow next_page">
          Next: 
          13/8/20
          Rails3のログ出力にANSIカラーコードを使用しない設定
        </a>
      
  </div>
</nav>


    <div class="Subhead">
      <div class="Subhead-heading">
        <div class="h2 mt-3 mb-1">WindowsにRedmine2.3をインストールする手順と、プラグイン作成用メモ</div>
      </div>
      <div class="Subhead-description">
        <div class="float-md-right">
          Tags: 


  
    <a href='https://gosyujin.github.io/tags/ruby' class="muted-link">
      [ <span class="Label Label--gray">Ruby</span> ]
    </a>
  
    <a href='https://gosyujin.github.io/tags/redmine' class="muted-link">
      [ <span class="Label Label--gray">Redmine</span> ]
    </a>
  
    <a href='https://gosyujin.github.io/tags/mysql' class="muted-link">
      [ <span class="Label Label--gray">MySql</span> ]
    </a>
  
    <a href='https://gosyujin.github.io/tags/startup' class="muted-link">
      [ <span class="Label Label--gray">StartUp</span> ]
    </a>
  


          Published: <span>2013/08/09</span>
        </div>
      </div>
    </div>

    
  <div id="toc" class="Box Box--blue p-2 mb-3 mt-5">
    <h3>Contents</h3>
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#あらすじ">あらすじ</a></li>
<li><a href="#環境">環境</a></li>
<li><a href="#参考サイト">参考サイト</a></li>
<li><a href="#redmineインストール手順">Redmineインストール手順</a>
<ul>
<li><a href="#mysql">MySQL</a></li>
<li><a href="#redmine">Redmine</a></li>
</ul></li>
<li><a href="#プラグイン作成の準備">プラグイン作成の準備</a>
<ul>
<li><a href="#コマンド">コマンド</a></li>
<li><a href="#スケルトン作成">スケルトン作成</a></li>
<li><a href="#init-rb">init.rb</a></li>
<li><a href="#viewのフック">viewのフック</a>
<ul>
<li><a href="#フックファイル">フックファイル</a></li>
<li><a href="#viewファイル">Viewファイル</a></li>
</ul></li>
<li><a href="#controllerと連携">Controllerと連携</a>
<ul>
<li><a href="#controller">Controller</a></li>
<li><a href="#view">View</a></li>
<li><a href="#route">Route</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</nav>
  </div>



    <article>
     <section class="pb-6 mb-3 border-bottom">
        

<h2 id="あらすじ">あらすじ</h2>

<p>Redmine 2.0台におけるインストール方法〜起動方法とプラグインの作り方のメモ。</p>

<h2 id="環境">環境</h2>

<ul>
<li>Windows 7 32bit</li>
<li>Ruby 1.9.3

<ul>
<li>Bundler 1.3.5 導入済</li>
<li>DevKit 導入済</li>
</ul></li>
<li>Redmine 2.3.1</li>
<li>MySql 5.6.12.1</li>
</ul>

<h2 id="参考サイト">参考サイト</h2>

<ul>
<li><a href="http://redmine.jp/guide/RedmineInstall/">Redmineのインストール — Redmine Guide 日本語訳</a></li>
<li><a href="http://www.redmine.org/projects/redmine/wiki/Hooks#View-hooks-2">Hooks - Redmine</a></li>
<li><a href="http://www.redmine.org/projects/redmine/wiki/Hooks_List">Hooks List - Redmine</a></li>
<li><a href="http://www.r-labs.org/projects/r-labs/wiki/%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3_%E3%83%9B%E3%83%83%E3%82%AF">プラグイン ホック - r-labs</a></li>
<li><a href="http://railsdoc.com/view">ビュー(view) - Railsドキュメント</a></li>
</ul>

<h2 id="redmineインストール手順">Redmineインストール手順</h2>

<p>まずは準備。</p>

<h3 id="mysql">MySQL</h3>

<p>実はMySQLさわるのはじめてかもしれない。</p>

<ul>
<li><a href="http://dev.mysql.com/downloads/installer/">MySQL :: Download MySQL Installer</a> からインストーラをDL。Oracleのアカウントが必要</li>
<li>基本的にPathなどの設定はそのまま。

<ul>
<li>Choosing a Setup Type: <code>Developer Default</code> を選択</li>
<li>MySQL Server Configuration:</li>
<li>Server Configuration Type は <code>Development Machine</code></li>
<li>ポートは <code>3306</code></li>
<li><code>root</code> のパスワードを入力</li>
<li>Windows Service Details の <code>Start the MySQL Server at System Startup</code> のチェックだけ <code>KILL</code> そんなに使わないしPCがしょぼいので常時起動させておくこともない</li>
</ul></li>
</ul>

<p>全部終わると MySQL Workbench が立ち上がる。</p>

<ul>
<li>Open Connection to Start Queryin に <code>Local instance MySQL56</code> を選択</li>
<li>root のパスワードを入力し、ログインできる事を確認</li>
<li>コンソールから <code>redmine</code> ユーザを作成し、 <strong>テーブルの権限を設定する</strong> (これをよく忘れて <code>access denied</code> になる)</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-mysql" data-lang="mysql"><span class="k">create</span> <span class="k">database</span> <span class="n">redmine</span> <span class="k">character</span> <span class="kt">set</span> <span class="n">utf8</span><span class="p">;</span>
<span class="k">create</span> <span class="n">user</span> <span class="s1">&#39;redmine&#39;</span><span class="o">@</span><span class="s1">&#39;localhost&#39;</span> <span class="n">identified</span> <span class="k">by</span> <span class="s1">&#39;my_password&#39;</span><span class="p">;</span>
<span class="k">grant</span> <span class="k">all</span> <span class="n">privileges</span> <span class="k">on</span> <span class="n">redmine</span><span class="p">.</span><span class="o">*</span> <span class="k">to</span> <span class="s1">&#39;redmine&#39;</span><span class="o">@</span><span class="s1">&#39;localhost&#39;</span><span class="p">;</span></code></pre></div>
<p>で、とりあえずオッケー。</p>

<h3 id="redmine">Redmine</h3>

<ul>
<li>Redmine 2.3.1 をDLし、適当なところへ解凍。</li>
<li><code>config/database.yml.example</code> を <code>config/database.yml</code> にリネームし、内容編集。MySQLとつなげるように</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-yaml" data-lang="yaml">production<span class="p">:</span><span class="w">
</span><span class="w">  </span>adapter<span class="p">:</span><span class="w"> </span>mysql2<span class="w">
</span><span class="w">  </span>database<span class="p">:</span><span class="w"> </span>redmine<span class="w">
</span><span class="w">  </span>host<span class="p">:</span><span class="w"> </span>localhost<span class="w">
</span><span class="w">  </span>username<span class="p">:</span><span class="w"> </span>redmine<span class="w">
</span><span class="w">  </span>password<span class="p">:</span><span class="w"> </span>my_password<span class="w">
</span><span class="w">  </span>encoding<span class="p">:</span><span class="w"> </span>utf8<span class="w">
</span><span class="w">
</span><span class="w"></span>development<span class="p">:</span><span class="w">
</span><span class="w">  </span>adapter<span class="p">:</span><span class="w"> </span>mysql2<span class="w">
</span><span class="w">  </span>database<span class="p">:</span><span class="w"> </span>redmine_development<span class="w">
</span><span class="w">  </span>host<span class="p">:</span><span class="w"> </span>localhost<span class="w">
</span><span class="w">  </span>username<span class="p">:</span><span class="w"> </span>redmine<span class="w">
</span><span class="w">  </span>password<span class="p">:</span><span class="w"> </span>my_password<span class="w">
</span><span class="w">  </span>encoding<span class="p">:</span><span class="w"> </span>utf8</code></pre></div>
<p>Ruby 1.9 からMySQLにつなぐには adapter は mysql2 である必要がある模様。</p>

<ul>
<li>そして <code>bundle install --path vendor/bundle --without rmagick</code>

<ul>
<li>rmagickは頑張って入れてもいいけど今回はwithoutする</li>
</ul></li>
</ul>

<p>MySQL アダプターがなんか言ってる…my-sql-connector-c？</p>
<div class="highlight"><pre class="chroma"><code class="language-console" data-lang="console">(略)
Installing mysql2 (0.3.11)
(略)
Using yard (0.8.6.2)
Your bundle is complete!
Gems in the group rmagick were not installed.
It was installed into ./vendor/bundle
Post-install message from mysql2:

======================================================================================================

  You&#39;ve installed the binary version of mysql2.
  It was built using MySQL Connector/C version 6.0.2.
  It&#39;s recommended to use the exact same version to avoid potential issues.

  At the time of building this gem, the necessary DLL files where available
  in the following download:

  http://dev.mysql.com/get/Downloads/Connector-C/mysql-connector-c-noinstall-6.0.2-win32.zip/from/pick

  And put lib\libmysql.dll file in your Ruby bin directory, for example C:\Ruby\bin

======================================================================================================</code></pre></div>
<p>とりあえず落としてきて、 <code>lib/libmysql.dll</code> をRubyのbinディレクトリにいれた。</p>

<ul>
<li>セッションストア秘密鍵の作成</li>
<li>テーブルの作成</li>
<li>デフォルトのロール、トラッカー、ステータス、ワークフロー、列挙項目のロード</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-console" data-lang="console">$ rake generate_secret_token
$ set RAILS_ENV=production
$ rake db:migrate
==  Setup: migrating ==========================================================
-- create_table(&#34;attachments&#34;, {:force=&gt;true})
   -&gt; 0.1700s
(略)
$ rake redmine:load_default_data

Select language: ar, az, bg, bs, ca, cs, da, de, el, en, en-GB, es, et, eu, fa, fi, fr, gl, he, hr,
hu, id, it, ja, ko, lt, lv, mk, mn, nl, no, pl, pt, pt-BR, ro, ru, sk, sl, sq, sr, sr-YU, sv, th, tr, uk, vi, zh, zh-TW [en] ja
====================================
Default configuration data loaded.</code></pre></div>
<ul>
<li>起動</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-mysql" data-lang="mysql"><span class="err">$</span> <span class="n">ruby</span> <span class="n">script</span><span class="err">\</span><span class="n">rails</span> <span class="n">server</span></code></pre></div>
<p>起動したら <code>admin/admin</code> でログインして情報を見に行ってみる。</p>
<div class="highlight"><pre class="chroma"><code class="language-mysql" data-lang="mysql"><span class="n">Environment</span><span class="p">:</span>
  <span class="n">Redmine</span> <span class="n">version</span>                          <span class="mi">2</span><span class="p">.</span><span class="mi">3</span><span class="p">.</span><span class="mi">1</span><span class="p">.</span><span class="n">stable</span>
  <span class="n">Ruby</span> <span class="n">version</span>                             <span class="mi">1</span><span class="p">.</span><span class="mi">9</span><span class="p">.</span><span class="mi">3</span> <span class="p">(</span><span class="n">i386</span><span class="o">-</span><span class="n">mingw32</span><span class="p">)</span>
  <span class="n">Rails</span> <span class="n">version</span>                            <span class="mi">3</span><span class="p">.</span><span class="mi">2</span><span class="p">.</span><span class="mi">13</span>
  <span class="n">Environment</span>                              <span class="n">production</span>
  <span class="k">Database</span> <span class="n">adapter</span>                         <span class="n">Mysql2</span>
<span class="n">Redmine</span> <span class="n">plugins</span><span class="p">:</span>
  <span class="n">no</span> <span class="n">plugin</span> <span class="n">installed</span></code></pre></div>
<p>OK。</p>

<h2 id="プラグイン作成の準備">プラグイン作成の準備</h2>

<h3 id="コマンド">コマンド</h3>

<p>コマンドは <code>script/rails</code> に集約されたっぽい？</p>

<p>今まで <code>script/xxx</code> とかやっていたコマンドは <code>script/rails xxx</code> になっている。</p>
<div class="highlight"><pre class="chroma"><code class="language-console" data-lang="console">$ ruby script\rails -h
bundler is found: bundle exec ruby script\rails -h
Usage: rails COMMAND [ARGS]

The most common rails commands are:
 generate    Generate new code (short-cut alias: &#34;g&#34;)
 console     Start the Rails console (short-cut alias: &#34;c&#34;)
 server      Start the Rails server (short-cut alias: &#34;s&#34;)
 dbconsole   Start a console for the database specified in config/database.yml
             (short-cut alias: &#34;db&#34;)
 new         Create a new Rails application. &#34;rails new my_app&#34; creates a
             new application called MyApp in &#34;./my_app&#34;

In addition to those, there are:
 application  Generate the Rails application code
 destroy      Undo code generated with &#34;generate&#34; (short-cut alias: &#34;d&#34;)
 benchmarker  See how fast a piece of code runs
 profiler     Get profile information from a piece of code
 plugin       Install a plugin
 runner       Run a piece of code in the application environment (short-cut alias: &#34;r&#34;)

All commands can be run with -h (or --help) for more information.</code></pre></div>
<h3 id="スケルトン作成">スケルトン作成</h3>

<p><code>ruby script/rails generate redmine_plugin PLUGIN_NAME</code> で作成。</p>

<ul>
<li>プラグイン名はスネークケース</li>
<li><code>plugins/</code> 下に作成される</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-console" data-lang="console">$ ruby script\rails generate redmine_plugin download_issues_with_journal
bundler is found: bundle exec ruby script\rails generate redmine_plugin download_issues_with_journal
  create  plugins/download_issues_with_journal/app
  create  plugins/download_issues_with_journal/app/controllers
  create  plugins/download_issues_with_journal/app/helpers
  create  plugins/download_issues_with_journal/app/models
  create  plugins/download_issues_with_journal/app/views
  create  plugins/download_issues_with_journal/db/migrate
  create  plugins/download_issues_with_journal/lib/tasks
  create  plugins/download_issues_with_journal/assets/images
  create  plugins/download_issues_with_journal/assets/javascripts
  create  plugins/download_issues_with_journal/assets/stylesheets
  create  plugins/download_issues_with_journal/config/locales
  create  plugins/download_issues_with_journal/test
  create  plugins/download_issues_with_journal/test/fixtures
  create  plugins/download_issues_with_journal/test/unit
  create  plugins/download_issues_with_journal/test/functional
  create  plugins/download_issues_with_journal/test/integration
  create  plugins/download_issues_with_journal/README.rdoc
  create  plugins/download_issues_with_journal/init.rb
  create  plugins/download_issues_with_journal/config/routes.rb
  create  plugins/download_issues_with_journal/config/locales/en.yml
  create  plugins/download_issues_with_journal/test/test_helper.rb</code></pre></div>
<p><code>plugins/</code> 下にいれば、Redmine起動時にロードしてくれる。再起動して情報を見に行くと…。</p>
<div class="highlight"><pre class="chroma"><code class="language-console" data-lang="console">Environment:
  Redmine version                          2.3.1.stable
  Ruby version                             1.9.3 (i386-mingw32)
  Rails version                            3.2.13
  Environment                              production
  Database adapter                         Mysql2
Redmine plugins:
  download_issues_with_journal             0.0.1                 # =&gt; 増えてる！</code></pre></div>
<h3 id="init-rb">init.rb</h3>

<p>書き方が、Rubyのそれとちょっと違う。Rails流？なので、はじめは慣れが必要かも。</p>

<blockquote>
<ul>
<li>文字列ではなく、なるべくシンボルを使う</li>
<li>ブロックは括弧 {} ではなく、 do, end を使う</li>
<li>メソッドの括弧 () は省略する</li>
</ul>
</blockquote>

<p>今は特にすることもないので、authorやurlを適当に編集したら次へ。</p>

<h3 id="viewのフック">viewのフック</h3>

<p>「特定の画面に何か文字とか機能を追加する」場合、viewをフックすることで実現できる。(他にも手段はあるみたいだが、とりあえず)</p>

<p>どこにフックできるかは、 <code>app/views下のerbファイル</code> を確認し、 <code>call_hook(xxx)</code> と書かれているところがそうらしい。詳しくは参考サイト参照</p>

<p>今回は、チケット一覧のページにフックしたいので、その辺を探してみる…。</p>

<p>すると、 <code>app/views/issues/index.html.erb</code> の中にこんな記述が。ページの一番下の部分にフックできそう。</p>
<div class="highlight"><pre class="chroma"><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="s">%= call_hook(:view_issues_index_bottom, { :issues =</span><span class="o">&gt;</span> <span class="vi">@issues</span><span class="p">,</span> <span class="ss">:project</span> <span class="o">=&gt;</span> <span class="vi">@project</span><span class="p">,</span> <span class="ss">:query</span> <span class="o">=&gt;</span> <span class="vi">@query</span> <span class="p">})</span> <span class="o">%&gt;</span></code></pre></div>
<p>第一引数 <code>:view_issues_index_bottom</code> はフックする時に作成するメソッド名になる、第2引数はパラメータ。これは覚えておく。</p>

<h4 id="フックファイル">フックファイル</h4>

<p><code>PLUGIN/lib/PLUGIN_NAME/hooks.rb</code> を作り、以下のように記載。</p>
<div class="highlight"><pre class="chroma"><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">Hooks</span> <span class="o">&lt;</span> <span class="no">Redmine</span><span class="o">::</span><span class="no">Hook</span><span class="o">::</span><span class="no">ViewListener</span>
  <span class="k">def</span> <span class="nf">view_issues_index_bottom</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>
    <span class="nb">puts</span> <span class="s2">&#34;view_issues_index_bottom&#34;</span>
    <span class="k">return</span> <span class="s2">&#34;&lt;p&gt;Hello&lt;/p&gt;&#34;</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></div>
<p>call_hookの第一引数になっていたとおり、 <code>view_issues_index_bottom</code> メソッドを作る。</p>

<p>次に上記のフックを読み込むために <code>init.rb</code> に require を追加する。</p>
<div class="highlight"><pre class="chroma"><code class="language-ruby" data-lang="ruby"><span class="nb">require</span> <span class="s1">&#39;download_issues_with_journal/hooks&#39;</span></code></pre></div>
<p>これで Redmine を再起動すると、チケット一覧ページに Hello と表示されているはず。</p>

<h4 id="viewファイル">Viewファイル</h4>

<p>また、View担当部分はきちんとViewにわけることもできる。</p>

<p>フック部分を以下のように変更。</p>
<div class="highlight"><pre class="chroma"><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">Hooks</span> <span class="o">&lt;</span> <span class="no">Redmine</span><span class="o">::</span><span class="no">Hook</span><span class="o">::</span><span class="no">ViewListener</span>
  <span class="k">def</span> <span class="nf">view_issues_index_bottom</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>
    <span class="n">context</span><span class="o">[</span><span class="ss">:controller</span><span class="o">].</span><span class="n">send</span><span class="p">(</span><span class="ss">:render_to_string</span><span class="p">,</span> <span class="p">{</span>
      <span class="ss">:partial</span> <span class="o">=&gt;</span> <span class="s2">&#34;hooks/download_issues_with_journal/view_issues_index_bottom&#34;</span><span class="p">,</span>
      <span class="ss">:locals</span> <span class="o">=&gt;</span> <span class="n">context</span> <span class="p">})</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></div>
<p><code>:partial</code> は <code>app/views/</code> 以下のパスを指定。</p>

<p>上記のように指定すると <code>app/views/hooks/download_issues_with_journal/_view_issues_index_bottom.html.erb</code> (部分描画用のファイルは先頭に <code>_</code> を付けるのがルール)が呼ばれる。中身はこんな感じ。</p>
<div class="highlight"><pre class="chroma"><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&#34;contextual&#34;</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="s">%= @project %&gt;
</span><span class="s">  &lt;%=</span> <span class="n">link_to</span><span class="p">(</span><span class="s2">&#34;link ror&#34;</span><span class="p">,</span> <span class="s2">&#34;http://rubyonrails.org&#34;</span><span class="p">)</span> <span class="s">%&gt;
</span><span class="s">&lt;/div&gt;</span></code></pre></div>
<p>チケット一覧を開いているプロジェクト名とRuby on Railsへのリンクが表示される。</p>

<p>これでViewをフックしつつ、Viewの定義自体はerbファイルに追い出すことができた。</p>

<h3 id="controllerと連携">Controllerと連携</h3>

<p>ここまでViewをいじっていると、ファイル構造はこんな感じになった。</p>
<div class="highlight"><pre class="chroma"><code class="language-console" data-lang="console">download_issues_with_journal
├─app
│  └─views
│      └─hooks
│          └─download_issues_with_journal
│              └─_view_issues_index_bottom.html.erb (3)
├─assets
├─config
├─db
├─lib
│  └─download_issues_with_journal
│      └─hooks.rb (1)
├─init.rb (2)
└─test</code></pre></div>
<p>(1)でチケット一覧画面をフックし、(2)でそれをrequire、(3)に追加したい画面ソースを書いた。</p>

<p>次にController(ユーザのアクションに対応したメソッド)を作り、Viewと連携を取る。</p>

<p>いじるファイルは以下。</p>

<ul>
<li>Controllerファイル(新規作成)</li>
<li>Viewファイル(Controllerを呼ぶように編集)</li>
<li>Routeファイル(編集)</li>
</ul>

<h4 id="controller">Controller</h4>

<p><code>app/controller/export_controller.rb</code> を作成。</p>

<ul>
<li>export_controller なので、、 <code>export</code> がこの先 <code>:controller</code> に指定する名前になる</li>
<li>ApplicationController クラスを継承</li>
<li>unloadable を書かないと Development モードで動かない。今はおまじないでいい</li>
<li>処理を書いていく。メソッド名が <code>:action</code> となる</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">ExportController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="n">unloadable</span>

  <span class="k">def</span> <span class="nf">export_with_journal</span>
    <span class="nb">puts</span> <span class="s2">&#34;export_with_journal&#34;</span>
    <span class="n">send_data</span><span class="p">(</span><span class="s2">&#34;aa&#34;</span><span class="p">,</span> <span class="ss">:type</span> <span class="o">=&gt;</span> <span class="s2">&#34;text/csv&#34;</span><span class="p">,</span> <span class="ss">:filename</span> <span class="o">=&gt;</span> <span class="s2">&#34;test.csv&#34;</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></div>
<h4 id="view">View</h4>

<p>Controller に定義した :controller と :action 名に従って、リンク先を変更する。</p>
<div class="highlight"><pre class="chroma"><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&#34;contextual&#34;</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="s">%= link_to(&#34;dl #{@project} issues&#34;, {:controller =</span><span class="o">&gt;</span> <span class="s2">&#34;export&#34;</span><span class="p">,</span> <span class="ss">:action</span> <span class="o">=&gt;</span> <span class="s2">&#34;export_with_journal&#34;</span><span class="p">})</span> <span class="s">%&gt;
</span><span class="s">&lt;/div&gt;</span></code></pre></div>
<h4 id="route">Route</h4>

<p>Controller と View を結びつける。</p>
<div class="highlight"><pre class="chroma"><code class="language-ruby" data-lang="ruby"><span class="n">match</span> <span class="s1">&#39;projects/export/:action&#39;</span><span class="p">,</span> <span class="ss">:controller</span> <span class="o">=&gt;</span> <span class="s1">&#39;export&#39;</span></code></pre></div>
<p>これで、ViewのリンクをたたくとControllerが呼ばれる。</p>

      </section>
    </article>

    <div class="social">
  
  <a href="https://twitter.com/share"
    data-url="https://gosyujin.github.io/2013/08/09/redmine2/"
    data-text="WindowsにRedmine2.3をインストールする手順と、プラグイン作成用メモ - kk_Atakaの日記"
    data-related=""
    data-lang="ja"
    data-size="horizontal"
    data-dnt="true"
    class="twitter-share-button">Tweet</a>
  <script type="text/javascript"
    src="https://platform.twitter.com/widgets.js"
    charset="utf-8" async="async"></script>

  
  <a href="http://b.hatena.ne.jp/entry/https://gosyujin.github.io/2013/08/09/redmine2/"
    data-hatena-bookmark-title="WindowsにRedmine2.3をインストールする手順と、プラグイン作成用メモ - kk_Atakaの日記"
    data-hatena-bookmark-layout="standard"
    class="hatena-bookmark-button"
    title="add Hatena bookmark">
    <img src="https://b.st-hatena.com/images/entry-button/button-only.gif"
      alt="add Hatena bookmark"
      width="20" height="20" style="border: none;" />
  </a>
  <script type="text/javascript"
    src="https://b.st-hatena.com/js/bookmark_button.js"
    charset="utf-8" async="async"></script>

  
  <a href="http://b.hatena.ne.jp/entry/https://gosyujin.github.io/2013/08/09/redmine2/">
    <img src="https://b.hatena.ne.jp/entry/image/https://gosyujin.github.io/2013/08/09/redmine2/" />
  </a>
</div>

    <nav class="paginate-container">
  <div class="pagination">
      
        <a href="https://gosyujin.github.io/2013/08/07/jekyll-maintenance-1/" class="pagination_overflow previous_page">
          Prev: 
          13/8/7
          Jekyllバー …
        </a>
      

      <a href="https://gosyujin.github.io" class="pagination_center">
        Archives
      </a>
      </span>

      
        <a href="https://gosyujin.github.io/2013/08/20/rails3-log-not-colorize/" class="pagination_overflow next_page">
          Next: 
          13/8/20
          Rails3のログ出力にANSIカラーコードを使用しない設定
        </a>
      
  </div>
</nav>


  


      </div>

      <div id="side" class="pr-1 bg-white">
        <div class="pr-3">
          
  <div id="profile" class="Box Box-blue p-2 mb-3 mt-5">
  <h3>Link</h3>
  <ul>
    <li>
      <a href="https://github.com/gosyujin">GitHub</a>
    </li>
    <li>
      <a href="http://www.slideshare.net/kk_Ataka">Slideshare</a>
    </li>
    <li>
      <a href="http://connpass.com/user/kk_Ataka/">Connpass</a>
    </li>
  </ul>
</div>





  <div id="recent" class="Box Box-blue p-2 mb-3 mt-5">
    <a href="https://gosyujin.github.io"><h3>Recent Entry</h3></a>
    <ul>
      
        <li>
          <span>19/4/15 </span>
          
          <a class="mb-2" href="/2019/04/15/sqlserver-collation-name/">SQL Serverでの照合順序の確認方法</a>
        </li>
      
        <li>
          <span>17/6/30 </span>
          
          <a class="mb-2" href="/2017/06/30/nicorepo/">ニコレポの仕様が変わったので一覧情報の取得方法を調査した</a>
        </li>
      
        <li>
          <span>17/5/31 </span>
          
          <a class="mb-2" href="/2017/05/31/android-lint/">Android StudioでAndroid Lint</a>
        </li>
      
        <li>
          <span>17/4/30 </span>
          
          <a class="mb-2" href="/2017/04/30/dropbox-cli/">Dropboxをコマンドラインで使用する方法</a>
        </li>
      
        <li>
          <span>17/3/30 </span>
          
          <a class="mb-2" href="/2017/03/30/rbenv-update/">rbenvを最新にして新しいバージョンのRubyをインストールできるようにする</a>
        </li>
      
        <li>
          <span>17/2/28 </span>
          
          <a class="mb-2" href="/2017/02/28/gradle_res_value/">GradleのresValueで値をリソースに設定する</a>
        </li>
      
        <li>
          <span>17/1/11 </span>
          
          <a class="mb-2" href="/2017/01/11/localhost-hateb/">localhost:xxxxにはてブしてるコメントを収集してみた</a>
        </li>
      
        <li>
          <span>16/12/31 </span>
          
          <a class="mb-2" href="/2016/12/31/gmail_smtp_username_and_password_not_accepted/">Gmail経由でのstmp送信でUsername and Password not accepted 534-5.7.14</a>
        </li>
      
        <li>
          <span>16/11/30 </span>
          
          <a class="mb-2" href="/2016/11/30/pyconjp-sphinx-handson-kpt/">PyConJP 2016 in TokyoでSphinxハンズオンのTAをしてきた #pyconjp</a>
        </li>
      
        <li>
          <span>16/10/31 </span>
          
          <a class="mb-2" href="/2016/10/31/software-design-2016-11/">Software Design 2016年11月号にSphinxの記事を執筆しました #sphinxjp</a>
        </li>
      
    </ul>
  </div>



  <div id="tags" class="Box Box--blue p-2 mb-3 mt-5">
    <a href="/tags/"><h3>Tags</h3></a>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/api" class="link-gray text-emphasized css-truncate-target">
          <span class="">API</span>
        </a>
        <span class="text-right Counter">8</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/agile" class="link-gray text-emphasized css-truncate-target">
          <span class="">Agile</span>
        </a>
        <span class="text-right Counter">2</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/android" class="link-gray text-emphasized css-truncate-target">
          <span class="">Android</span>
        </a>
        <span class="text-right Counter">7</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/ansible" class="link-gray text-emphasized css-truncate-target">
          <span class="">Ansible</span>
        </a>
        <span class="text-right Counter">2</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/application" class="link-gray text-emphasized css-truncate-target">
          <span class="">Application</span>
        </a>
        <span class="text-right Counter">1</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/bundle" class="link-gray text-emphasized css-truncate-target">
          <span class="">Bundle</span>
        </a>
        <span class="text-right Counter">1</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/chef" class="link-gray text-emphasized css-truncate-target">
          <span class="">Chef</span>
        </a>
        <span class="text-right Counter">2</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/dropbox" class="link-gray text-emphasized css-truncate-target">
          <span class="">Dropbox</span>
        </a>
        <span class="text-right Counter">3</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/eclipse" class="link-gray text-emphasized css-truncate-target">
          <span class="">Eclipse</span>
        </a>
        <span class="text-right Counter">1</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/evernote" class="link-gray text-emphasized css-truncate-target">
          <span class="">Evernote</span>
        </a>
        <span class="text-right Counter">2</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/firefox" class="link-gray text-emphasized css-truncate-target">
          <span class="">Firefox</span>
        </a>
        <span class="text-right Counter">2</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/fluentd" class="link-gray text-emphasized css-truncate-target">
          <span class="">Fluentd</span>
        </a>
        <span class="text-right Counter">3</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/git" class="link-gray text-emphasized css-truncate-target">
          <span class="">Git</span>
        </a>
        <span class="text-right Counter">16</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/github" class="link-gray text-emphasized css-truncate-target">
          <span class="">GitHub</span>
        </a>
        <span class="text-right Counter">2</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/gmail" class="link-gray text-emphasized css-truncate-target">
          <span class="">Gmail</span>
        </a>
        <span class="text-right Counter">1</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/golang" class="link-gray text-emphasized css-truncate-target">
          <span class="">Golang</span>
        </a>
        <span class="text-right Counter">4</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/gradle" class="link-gray text-emphasized css-truncate-target">
          <span class="">Gradle</span>
        </a>
        <span class="text-right Counter">1</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/haml" class="link-gray text-emphasized css-truncate-target">
          <span class="">Haml</span>
        </a>
        <span class="text-right Counter">1</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/haskell" class="link-gray text-emphasized css-truncate-target">
          <span class="">Haskell</span>
        </a>
        <span class="text-right Counter">5</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/heroku" class="link-gray text-emphasized css-truncate-target">
          <span class="">Heroku</span>
        </a>
        <span class="text-right Counter">5</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/homebrew" class="link-gray text-emphasized css-truncate-target">
          <span class="">Homebrew</span>
        </a>
        <span class="text-right Counter">1</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/hubot" class="link-gray text-emphasized css-truncate-target">
          <span class="">Hubot</span>
        </a>
        <span class="text-right Counter">1</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/hugo" class="link-gray text-emphasized css-truncate-target">
          <span class="">Hugo</span>
        </a>
        <span class="text-right Counter">1</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/ie" class="link-gray text-emphasized css-truncate-target">
          <span class="">IE</span>
        </a>
        <span class="text-right Counter">1</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/java" class="link-gray text-emphasized css-truncate-target">
          <span class="">Java</span>
        </a>
        <span class="text-right Counter">11</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/javascript" class="link-gray text-emphasized css-truncate-target">
          <span class="">JavaScript</span>
        </a>
        <span class="text-right Counter">1</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/jekyll" class="link-gray text-emphasized css-truncate-target">
          <span class="">Jekyll</span>
        </a>
        <span class="text-right Counter">20</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/jenkins" class="link-gray text-emphasized css-truncate-target">
          <span class="">Jenkins</span>
        </a>
        <span class="text-right Counter">7</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/liquid" class="link-gray text-emphasized css-truncate-target">
          <span class="">Liquid</span>
        </a>
        <span class="text-right Counter">3</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/lokka" class="link-gray text-emphasized css-truncate-target">
          <span class="">Lokka</span>
        </a>
        <span class="text-right Counter">1</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/mac" class="link-gray text-emphasized css-truncate-target">
          <span class="">Mac</span>
        </a>
        <span class="text-right Counter">8</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/markdown" class="link-gray text-emphasized css-truncate-target">
          <span class="">Markdown</span>
        </a>
        <span class="text-right Counter">1</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/mysql" class="link-gray text-emphasized css-truncate-target">
          <span class="">MySql</span>
        </a>
        <span class="text-right Counter">1</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/oauth" class="link-gray text-emphasized css-truncate-target">
          <span class="">OAuth</span>
        </a>
        <span class="text-right Counter">1</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/oracle" class="link-gray text-emphasized css-truncate-target">
          <span class="">Oracle</span>
        </a>
        <span class="text-right Counter">5</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/python" class="link-gray text-emphasized css-truncate-target">
          <span class="">Python</span>
        </a>
        <span class="text-right Counter">6</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/rspec" class="link-gray text-emphasized css-truncate-target">
          <span class="">RSpec</span>
        </a>
        <span class="text-right Counter">1</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/rails" class="link-gray text-emphasized css-truncate-target">
          <span class="">Rails</span>
        </a>
        <span class="text-right Counter">4</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/redmine" class="link-gray text-emphasized css-truncate-target">
          <span class="">Redmine</span>
        </a>
        <span class="text-right Counter">9</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/ruby" class="link-gray text-emphasized css-truncate-target">
          <span class="">Ruby</span>
        </a>
        <span class="text-right Counter">75</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/sql" class="link-gray text-emphasized css-truncate-target">
          <span class="">SQL</span>
        </a>
        <span class="text-right Counter">3</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/sql-server" class="link-gray text-emphasized css-truncate-target">
          <span class="">SQL Server</span>
        </a>
        <span class="text-right Counter">1</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/sqlite3" class="link-gray text-emphasized css-truncate-target">
          <span class="">SQLite3</span>
        </a>
        <span class="text-right Counter">1</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/scala" class="link-gray text-emphasized css-truncate-target">
          <span class="">Scala</span>
        </a>
        <span class="text-right Counter">1</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/selenium" class="link-gray text-emphasized css-truncate-target">
          <span class="">Selenium</span>
        </a>
        <span class="text-right Counter">2</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/shell" class="link-gray text-emphasized css-truncate-target">
          <span class="">Shell</span>
        </a>
        <span class="text-right Counter">1</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/sinatra" class="link-gray text-emphasized css-truncate-target">
          <span class="">Sinatra</span>
        </a>
        <span class="text-right Counter">2</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/slideshare" class="link-gray text-emphasized css-truncate-target">
          <span class="">SlideShare</span>
        </a>
        <span class="text-right Counter">1</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/solaris" class="link-gray text-emphasized css-truncate-target">
          <span class="">Solaris</span>
        </a>
        <span class="text-right Counter">12</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/sphinx" class="link-gray text-emphasized css-truncate-target">
          <span class="">Sphinx</span>
        </a>
        <span class="text-right Counter">18</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/startup" class="link-gray text-emphasized css-truncate-target">
          <span class="">StartUp</span>
        </a>
        <span class="text-right Counter">6</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/subversion" class="link-gray text-emphasized css-truncate-target">
          <span class="">Subversion</span>
        </a>
        <span class="text-right Counter">9</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/tdd" class="link-gray text-emphasized css-truncate-target">
          <span class="">TDD</span>
        </a>
        <span class="text-right Counter">1</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/test" class="link-gray text-emphasized css-truncate-target">
          <span class="">Test</span>
        </a>
        <span class="text-right Counter">1</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/translate" class="link-gray text-emphasized css-truncate-target">
          <span class="">Translate</span>
        </a>
        <span class="text-right Counter">2</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/twitter" class="link-gray text-emphasized css-truncate-target">
          <span class="">Twitter</span>
        </a>
        <span class="text-right Counter">4</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/unix" class="link-gray text-emphasized css-truncate-target">
          <span class="">Unix</span>
        </a>
        <span class="text-right Counter">13</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/vb" class="link-gray text-emphasized css-truncate-target">
          <span class="">VB</span>
        </a>
        <span class="text-right Counter">1</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/vim" class="link-gray text-emphasized css-truncate-target">
          <span class="">Vim</span>
        </a>
        <span class="text-right Counter">3</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/wicket" class="link-gray text-emphasized css-truncate-target">
          <span class="">Wicket</span>
        </a>
        <span class="text-right Counter">6</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/wiki" class="link-gray text-emphasized css-truncate-target">
          <span class="">Wiki</span>
        </a>
        <span class="text-right Counter">1</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/windows" class="link-gray text-emphasized css-truncate-target">
          <span class="">Windows</span>
        </a>
        <span class="text-right Counter">25</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/ios" class="link-gray text-emphasized css-truncate-target">
          <span class="">iOS</span>
        </a>
        <span class="text-right Counter">3</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/iphone" class="link-gray text-emphasized css-truncate-target">
          <span class="">iPhone</span>
        </a>
        <span class="text-right Counter">4</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/java-ja" class="link-gray text-emphasized css-truncate-target">
          <span class="">java-ja</span>
        </a>
        <span class="text-right Counter">4</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/node.js" class="link-gray text-emphasized css-truncate-target">
          <span class="">node.js</span>
        </a>
        <span class="text-right Counter">1</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/rest" class="link-gray text-emphasized css-truncate-target">
          <span class="">reST</span>
        </a>
        <span class="text-right Counter">3</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/%e3%81%95%e3%81%8f%e3%82%89vps" class="link-gray text-emphasized css-truncate-target">
          <span class="">さくらVPS</span>
        </a>
        <span class="text-right Counter">3</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/%e3%82%a4%e3%83%99%e3%83%b3%e3%83%88" class="link-gray text-emphasized css-truncate-target">
          <span class="">イベント</span>
        </a>
        <span class="text-right Counter">27</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/%e3%83%8d%e3%82%bf" class="link-gray text-emphasized css-truncate-target">
          <span class="">ネタ</span>
        </a>
        <span class="text-right Counter">1</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/%e5%82%99%e5%bf%98%e9%8c%b2" class="link-gray text-emphasized css-truncate-target">
          <span class="">備忘録</span>
        </a>
        <span class="text-right Counter">76</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/%e6%97%a5%e8%a8%98" class="link-gray text-emphasized css-truncate-target">
          <span class="">日記</span>
        </a>
        <span class="text-right Counter">11</span>
      </span>
    
      <span class="css-truncate no-wrap m-1 pl-1">
        <a href="/tags/%e8%aa%bf%e6%9f%bb%e3%83%ad%e3%82%b0" class="link-gray text-emphasized css-truncate-target">
          <span class="">調査ログ</span>
        </a>
        <span class="text-right Counter">1</span>
      </span>
    
  </div>




        </div>
        <aside class="pr-3">
          
  
  
  <div id="toc" class="Box Box--blue p-2 mb-3 mt-5">
    <h3>Contents</h3>
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#あらすじ">あらすじ</a></li>
<li><a href="#環境">環境</a></li>
<li><a href="#参考サイト">参考サイト</a></li>
<li><a href="#redmineインストール手順">Redmineインストール手順</a>
<ul>
<li><a href="#mysql">MySQL</a></li>
<li><a href="#redmine">Redmine</a></li>
</ul></li>
<li><a href="#プラグイン作成の準備">プラグイン作成の準備</a>
<ul>
<li><a href="#コマンド">コマンド</a></li>
<li><a href="#スケルトン作成">スケルトン作成</a></li>
<li><a href="#init-rb">init.rb</a></li>
<li><a href="#viewのフック">viewのフック</a>
<ul>
<li><a href="#フックファイル">フックファイル</a></li>
<li><a href="#viewファイル">Viewファイル</a></li>
</ul></li>
<li><a href="#controllerと連携">Controllerと連携</a>
<ul>
<li><a href="#controller">Controller</a></li>
<li><a href="#view">View</a></li>
<li><a href="#route">Route</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</nav>
  </div>





        </aside>
      </div>

      <div id="footer" class="pt-2 pb-3 bg-white text-center">
        <span class="text-small text-gray">
  Powered by
  <a href="https://gohugo.io" class="link-gray-dark">Hugo</a>.
  theme based on
  <a href="https://github.com/qqhann/hugo-primer" class="link-gray-dark">Hugo-Primer</a>
</span>

      </div>
    </div>

    
    
    
    
  </body>
</html>
